package com.pbl3.libs;

import java.util.LinkedList;

import com.pbl3.model.HistoryOfTest_QuestionModel;
import com.pbl3.model.QuestionModel;

public class Count {
	public Result count(LinkedList<QuestionModel> questionModels,
			LinkedList<HistoryOfTest_QuestionModel> historyOfTest_QuestionModels) {
		Result result = new Result();
		int score = 0;
		int rightAnswerListening = 0;
		int rightAnswerReading = 0;
		int wrongAnswer = 0;
		int skip = 0;
		for (QuestionModel q : questionModels) {
			boolean check = true;
			for (HistoryOfTest_QuestionModel h : historyOfTest_QuestionModels) {
				if (q.getQuestionID() == h.getQuestionID()) {
					check = false;
					if (q.getAnswerCorrect().equals(h.getAnswer())) {
						if (q.getOrderNumber() <= 100) {
							rightAnswerListening++;
						} else {
							rightAnswerReading++;
						}
					} else {
						wrongAnswer++;
					}
					break;
				}
			}
			if (check == true) {
				skip++;
			}
		}
		//
		if ((0 <= rightAnswerListening) && (rightAnswerListening <= 6)) {
			score += 5;
		}
		else if (7 <= rightAnswerListening && (rightAnswerListening <= 25)) {
			score += (rightAnswerListening - 5)*5;
		}
		else if (26 <= rightAnswerListening && (rightAnswerListening <= 34)) {
			score += (rightAnswerListening - 4)*5;
		}
		else if (35 <= rightAnswerListening && (rightAnswerListening <= 43)) {
			score += (rightAnswerListening - 3)*5;
		}
		else if (44 <= rightAnswerListening && (rightAnswerListening <= 46)) {
			score += (rightAnswerListening - 2)*5;
		}
		else if (rightAnswerListening == 47) {
			score += (rightAnswerListening - 1)*5;
		}
		else if (48 <= rightAnswerListening && (rightAnswerListening <= 52)) {
			score += (rightAnswerListening)*5;
		}
		else if (53 <= rightAnswerListening && (rightAnswerListening <= 55)) {
			score += (rightAnswerListening + 1)*5;
		}
		else if (56 <= rightAnswerListening && (rightAnswerListening <= 58)) {
			score += (rightAnswerListening + 2)*5;
		}
		else if (59 <= rightAnswerListening && (rightAnswerListening <= 63)) {
			score += (rightAnswerListening + 3)*5;
		}
		else if (64 <= rightAnswerListening && (rightAnswerListening <= 66)) {
			score += (rightAnswerListening + 4)*5;
		}
		else if (67 <= rightAnswerListening && (rightAnswerListening <= 69)) {
			score += (rightAnswerListening + 5)*5;
		}
		else if (70 <= rightAnswerListening && (rightAnswerListening <= 76)) {
			score += (rightAnswerListening + 6)*5;
		}
		else if (77 <= rightAnswerListening && (rightAnswerListening <= 79)) {
			score += (rightAnswerListening + 7)*5;
		}
		else if (80 <= rightAnswerListening && (rightAnswerListening <= 82)) {
			score += (rightAnswerListening + 8)*5;
		}
		else if (83 <= rightAnswerListening && (rightAnswerListening <= 89)) {
			score += (rightAnswerListening + 9)*5;
		}
		else if (90 <= rightAnswerListening && (rightAnswerListening <= 100)) {
			score += 495;
		}
		//
		if ((0 <= rightAnswerReading) && (rightAnswerReading <= 15)) {
			score += 5;
		}
		else if (16 <= rightAnswerReading && (rightAnswerReading <= 24)) {
			score += (rightAnswerReading - 14)*5;
		}
		else if (25 <= rightAnswerListening && (rightAnswerListening <= 27)) {
			score += (rightAnswerListening - 13)*5;
		}
		else if (28 <= rightAnswerListening && (rightAnswerListening <= 32)) {
			score += (rightAnswerListening - 12)*5;
		}
		else if (33 <= rightAnswerListening && (rightAnswerListening <= 37)) {
			score += (rightAnswerListening - 11)*5;
		}
		else if (38 <= rightAnswerListening && (rightAnswerListening <= 40)) {
			score += (rightAnswerListening - 10)*5;
		}
		else if (41 <= rightAnswerListening && (rightAnswerListening <= 45)) {
			score += (rightAnswerListening - 9)*5;
		}
		else if (46 <= rightAnswerListening && (rightAnswerListening <= 48)) {
			score += (rightAnswerListening -8)*5;
		}
		else if (49 <= rightAnswerListening && (rightAnswerListening <= 55)) {
			score += (rightAnswerListening - 7)*5;
		}
		else if (56 <= rightAnswerListening && (rightAnswerListening <= 60)) {
			score += (rightAnswerListening - 6)*5;
		}
		else if (61 <= rightAnswerListening && (rightAnswerListening <= 63)) {
			score += (rightAnswerListening - 5)*5;
		}
		else if (64 <= rightAnswerListening && (rightAnswerListening <= 66)) {
			score += (rightAnswerListening - 4)*5;
		}
		else if (67 <= rightAnswerListening && (rightAnswerListening <= 71)) {
			score += (rightAnswerListening - 3)*5;
		}
		else if (80 <= rightAnswerListening && (rightAnswerListening <= 82)) {
			score += (rightAnswerListening + 8)*5;
		}
		else if (83 <= rightAnswerListening && (rightAnswerListening <= 89)) {
			score += (rightAnswerListening + 9)*5;
		}
		
		else if (90 <= rightAnswerListening && (rightAnswerListening <= 100)) {
			score += 495;
		}
		
			return result;
			
	}
}
