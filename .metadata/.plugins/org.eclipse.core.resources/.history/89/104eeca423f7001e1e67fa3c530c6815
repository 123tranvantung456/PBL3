package com.pbl3.service;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import com.pbl3.model.HistoryOfTestModel;
import com.pbl3.model.HistoryOfTest_QuestionModel;

public class HistoryOfTestModel_QuestionService extends BaseService{
	// add
	public static int add(HistoryOfTest_QuestionModel historyOfTest_QuestionModel) {
		try {
			Connection connection = getConnection();
			PreparedStatement preparedStatement = connection.prepareStatement(
					"INSERT INTO historyoftest_question (historyOfTestID, questionID, answer) VALUES (?, ?, ?)",
					Statement.RETURN_GENERATED_KEYS);
			preparedStatement.setInt(1, historyOfTest_QuestionModel.getHistoryOfTestID());
			preparedStatement.setInt(2, historyOfTest_QuestionModel.getQuestionID());
			preparedStatement.setObject(3, historyOfTest_QuestionModel.getAnswer());
			preparedStatement.setInt(4, historyOfTestModel.getScore());
			preparedStatement.executeUpdate();

			ResultSet rs = preparedStatement.getGeneratedKeys();
			int historyOfTestID = 0;
			if (rs.next()) {
				historyOfTestID = rs.getInt(1);
			}
			return historyOfTestID;
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return 0;
	}
}
